name: Notify Telegram on Issue Events

on:
  issues:
    types: [opened, closed]

jobs:
  telegram-notify:
    runs-on: ubuntu-latest
    steps:
      - name: Notify on opened issue
        if: github.event.action == 'opened'
        uses: appleboy/telegram-action@master
        with:
          token: ${{ secrets.TELEGRAM_TOKEN }}
          to: ${{ secrets.TELEGRAM_CHAT_ID }}
          parse_mode: MarkdownV2
          message: |
            üìù –ù–æ–≤–∞—è issue: **${{ github.event.issue.title }}**
            –ê–≤—Ç–æ—Ä: ${{ github.event.issue.user.login }}
            –û–ø–∏—Å–∞–Ω–∏–µ: ${{ github.event.issue.body }}
            ${{ github.event.issue.html_url }}

      - name: Notify on closed issue
        if: github.event.action == 'closed'
        uses: appleboy/telegram-action@master
        with:
          token: ${{ secrets.TELEGRAM_TOKEN }}
          to: ${{ secrets.TELEGRAM_CHAT_ID }}
          parse_mode: MarkdownV2
          message: |
            ‚úÖ –ó–∞–∫—Ä—ã—Ç–∞ issue: **${{ github.event.issue.title }}**
            ${{ github.event.issue.html_url }}
